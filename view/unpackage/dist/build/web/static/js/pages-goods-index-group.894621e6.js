(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goods-index-group"],{"062c":function(t,e,i){var o=i("54a0");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=i("967d").default;a("8fbba44a",o,!0,{sourceMap:!1,shadowMode:!1})},"3aeb":function(t,e,i){"use strict";i.r(e);var o=i("e763"),a=i("e3eb");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("adf7");var n=i("828b"),d=Object(n["a"])(a["default"],o["b"],o["c"],!1,null,"3ce46d5a",null,!1,o["a"],void 0);e["default"]=d.exports},"54a0":function(t,e,i){var o=i("c86c");e=o(!1),e.push([t.i,".content-top[data-v-3ce46d5a]{padding-bottom:%?40?%}.swiper[data-v-3ce46d5a]{height:%?750?%}.goods-top[data-v-3ce46d5a]{border-bottom:0}.goods-top .goods-price[data-v-3ce46d5a]{font-size:%?38?%}.cost-price[data-v-3ce46d5a]{font-size:%?28?%!important;bottom:%?-10?%;color:#999;text-decoration:line-through}.goods-top .cell-item-ft[data-v-3ce46d5a]{font-size:%?20?%;color:#666}.goods-details[data-v-3ce46d5a]{padding-top:%?16?%}.goods-details .cell-hd-title[data-v-3ce46d5a]{width:%?620?%}.goods-details .cell-hd-title .cell-hd-title-view[data-v-3ce46d5a]{width:100%;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.goods-details .cell-hd-title .cell-hd-title-view[data-v-3ce46d5a]:last-child{margin-top:%?10?%}.goods-details .cell-item-ft[data-v-3ce46d5a]{top:%?24?%}.goods-title-item .cell-item-hd[data-v-3ce46d5a]{min-width:%?60?%;color:#666;font-size:%?24?%}.goods-title-item .cell-item-bd[data-v-3ce46d5a]{color:#333;font-size:%?24?%;display:block}.goods-title-item .cell-bd-text[data-v-3ce46d5a]{bottom:0}.cell-bd-view[data-v-3ce46d5a]{position:relative;overflow:hidden}.cell-bd-view[data-v-3ce46d5a]:first-child{margin-bottom:%?8?%}.goods-title-item-ic[data-v-3ce46d5a]{width:%?22?%;height:%?22?%;position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);\n}.cell-bd-view .cell-bd-text[data-v-3ce46d5a]{margin-left:%?30?%}.goods-content[data-v-3ce46d5a]{margin-top:%?26?%;background-color:#fff;padding:%?26?% 0}.goods-parameter[data-v-3ce46d5a]{padding:%?10?% %?26?%}.goods-bottom[data-v-3ce46d5a],\n.pop-b[data-v-3ce46d5a]{background-color:#fff;position:fixed;bottom:0;height:%?90?%;width:100%;overflow:hidden;box-shadow:0 0 %?20?% #ccc}.goods-bottom .btn[data-v-3ce46d5a]{height:100%;width:29%;float:left}.goods-bottom-ic[data-v-3ce46d5a]{display:inline-block;position:relative;text-align:center;height:100%;width:14%;float:left;font-size:%?22?%;color:#666}.goods-bottom-ic .icon[data-v-3ce46d5a]{position:relative;top:%?6?%;\n}.goods-bottom .btn-g[data-v-3ce46d5a]{color:#333;background-color:#d9d9d9}.goods-parameter .cell-item[data-v-3ce46d5a]{border-bottom:none;margin-left:0}.goods-parameter .cell-item-hd[data-v-3ce46d5a]{color:#333;font-size:%?24?%}.goods-parameter .cell-item-bd[data-v-3ce46d5a]{color:#999}.goods-parameter .cell-item-bd .cell-bd-text[data-v-3ce46d5a]{bottom:0}.goods-parameter .cell-bd-text[data-v-3ce46d5a]{margin-left:0}.pop-t[data-v-3ce46d5a]{position:relative;padding:%?30?% %?26?%;border-bottom:%?2?% solid #f3f3f3}.goods-img[data-v-3ce46d5a]{width:%?160?%;height:%?160?%;position:absolute;top:%?-20?%;background-color:#fff;border-radius:%?6?%;border:%?2?% solid #fff}.goods-img uni-image[data-v-3ce46d5a]{height:100%;width:100%}.goods-information[data-v-3ce46d5a]{width:%?420?%;display:inline-block;margin-left:%?180?%}.pop-goods-name[data-v-3ce46d5a]{width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block;font-size:%?24?%;margin-bottom:%?20?%}.pop-goods-price[data-v-3ce46d5a]{font-size:%?30?%}.close-btn[data-v-3ce46d5a]{width:%?40?%;height:%?40?%;border-radius:50%;display:inline-block;position:absolute;right:%?30?%}.close-btn uni-image[data-v-3ce46d5a]{width:100%;height:100%}.pop-m[data-v-3ce46d5a]{font-size:%?28?%;margin-bottom:%?90?%}.goods-specs[data-v-3ce46d5a],\n.goods-number[data-v-3ce46d5a]{padding:%?26?%;border-top:1px solid #f3f3f3}.goods-specs[data-v-3ce46d5a]:first-child{border:none}.pop-m-title[data-v-3ce46d5a]{margin-right:%?10?%;color:#666}.pop-m-bd[data-v-3ce46d5a]{overflow:hidden;margin-top:%?10?%}.pop-m-item[data-v-3ce46d5a]{display:inline-block;float:left;padding:%?6?% %?16?%;background-color:#fff;color:#333;margin-right:%?16?%;margin-bottom:%?10?%}.selected[data-v-3ce46d5a]{border:%?2?% solid #333;background-color:#333;color:#fff}.not-selected[data-v-3ce46d5a]{border:%?2?% solid #ccc}.none[data-v-3ce46d5a]{border:%?2?% dashed #ccc;color:#888}.pop-m-bd-in[data-v-3ce46d5a]{display:inline-block}.badge[data-v-3ce46d5a]{top:%?2?%;left:%?62?%}.goods-assess .user-head-img[data-v-3ce46d5a]{width:%?80?%;height:%?80?%;border-radius:50%}.goods-assess .cell-item-bd[data-v-3ce46d5a]{padding-right:0}.goods-assess .cell-bd-text[data-v-3ce46d5a]{margin:0}.goods-assess .cell-bd-text.color-9[data-v-3ce46d5a]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:%?440?%}.gai-body-text[data-v-3ce46d5a]{font-size:%?26?%;color:#333;padding:0 %?26?%;word-wrap:break-word}.gai-body-img[data-v-3ce46d5a]{overflow:hidden;padding:%?20?% %?26?%}.gai-body-img uni-image[data-v-3ce46d5a]{width:%?220?%;height:%?220?%;float:left;margin-right:%?19?%;margin-bottom:%?18?%}.gai-body-img uni-image[data-v-3ce46d5a]:nth-child(3n){margin-right:0}.redstar[data-v-3ce46d5a]{width:%?24?%;height:%?24?%;padding:%?2?%}.mask-share-wechat[data-v-3ce46d5a]{display:inline-block;background-color:#fff;padding:0}.mask-share-wechat[data-v-3ce46d5a]:after{border:none}.right-ball[data-v-3ce46d5a]{position:fixed;right:%?30?%;bottom:%?300?%;z-index:999;text-align:center;padding:%?14?% 0;\n\t/* line-height: 80upx; */width:%?80?%;height:%?80?%;font-size:%?24?%;color:#fff;background-color:rgba(0,0,0,.5);border-radius:50%}.share-pop[data-v-3ce46d5a]{height:%?300?%;width:100%;display:flex}.share-item[data-v-3ce46d5a]{flex:1;text-align:center;font-size:%?26?%;color:#333;padding:%?20?% 0}.comment-none[data-v-3ce46d5a]{text-align:center;padding:%?200?% 0}.comment-none-img[data-v-3ce46d5a]{width:%?274?%;height:%?274?%}.price-salesvolume[data-v-3ce46d5a]{width:100%;padding:0 0 0 %?26?%;overflow:hidden;color:#a5a5a5;background-color:#fce250;position:relative}.commodity-price[data-v-3ce46d5a]{width:%?224?%;display:inline-block;float:left}.current-price[data-v-3ce46d5a]{font-size:%?40?%;color:#ff7159;display:block;line-height:1.5}.cost-price[data-v-3ce46d5a]{font-size:%?26?%;text-decoration:line-through;\n\t/* margin-left: 8rpx; */display:block}.commodity-salesvolume[data-v-3ce46d5a]{width:%?240?%;display:inline-block;font-size:%?22?%;float:left;padding:%?16?% 0}.commodity-salesvolume > uni-text[data-v-3ce46d5a]{display:block}.commodity-time-img[data-v-3ce46d5a]{display:block;width:0;height:0;border-width:%?56?% %?28?% %?56?% 0;border-style:solid;border-color:transparent #ff7159 transparent transparent;\n\t/*透明 黄 透明 透明 */position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:%?260?%\n\t/* left: 460upx; */}.commodity-time[data-v-3ce46d5a]{display:inline-block;width:%?260?%;text-align:center;font-size:%?24?%;background-color:#ff7159;padding:%?16?% 0 %?18?%;color:#ff7159\n\t/* float: right; */}.commodity-time > uni-text[data-v-3ce46d5a]{color:#fce250}.nav-back[data-v-3ce46d5a]{width:100%;height:44px;\npadding:12px 12px 0;\n\n\nposition:fixed;top:0;background-color:hsla(0,0%,100%,0);z-index:98}.back-btn[data-v-3ce46d5a]{height:32px;width:32px;border-radius:50%;background-color:hsla(0,0%,100%,.8)}.back-btn .icon[data-v-3ce46d5a]{height:20px;width:20px;position:relative;top:50%;left:46%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.seller-content[data-v-3ce46d5a]{background-color:#f8f8f8;margin:0 13px 15px;padding:10px;color:#6e6e6e;border-radius:4px}.seller-content-top[data-v-3ce46d5a]{font-weight:700;margin-bottom:6px}.seller-content-img[data-v-3ce46d5a]{width:20px;height:20px;vertical-align:middle;margin-right:4px}.commodity-day > uni-text[data-v-3ce46d5a]{display:inline-block;background-color:#ffd4b0;color:#ff7300;padding:0 %?6?%;border-radius:%?6?%}.tl[data-v-3ce46d5a]{width:58%!important}.group-swiper-c[data-v-3ce46d5a]{height:%?242?%}.group-swiper-c .swiper-item .cell-item[data-v-3ce46d5a]{height:50%}.group-swiper-c .swiper-item .cell-item .user-head-img[data-v-3ce46d5a]{width:%?80?%;height:%?80?%;border-radius:50%}.group-swiper-c .swiper-item .cell-item .cell-hd-title[data-v-3ce46d5a]{position:absolute;top:50%;left:%?100?%;-webkit-transform:translateY(-50%);transform:translateY(-50%);max-width:%?260?%;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.group-swiper-c .swiper-item .cell-item .cell-item-bd[data-v-3ce46d5a]{min-width:%?150?%;max-width:%?150?%}.group-swiper-c .swiper-item .cell-item .cell-item-ft .btn[data-v-3ce46d5a]{font-size:%?26?%;color:#fff;background-color:#ff7159;text-align:center}\n.commodity-time-wrap[data-v-3ce46d5a]{float:right}",""]),t.exports=e},"8ca7":function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.tools=e.subscription=e.orders=e.jumpBackPage=e.goods=e.goBack=e.common=e.clickUrl=e.checkLogin=void 0,i("dc8a"),i("5ef2"),i("5c47"),i("a1c1");var o={mounted:function(){},methods:{orderDetail:function(t){this.$common.navigateTo("/pages/member/order/orderdetail?order_id="+t)},toPay:function(t,e){e||(e=1),this.$common.navigateTo("/pages/goods/payment/index?order_id="+t+"&type="+e)},toEvaluate:function(t){this.$common.navigateTo("/pages/member/order/evaluate?order_id="+t)},showExpress:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=encodeURIComponent("code="+t+"&no="+e+"&add="+i);this.$common.navigateTo("/pages/member/order/express_delivery?params="+o)}}};e.orders=o;e.common={mounted:function(){},methods:{goToPage:function(t){this.$common.navigateTo(t)}}};var a={mounted:function(){},methods:{goodsDetail:function(t){this.$common.navigateTo("/pages/goods/index/index?id="+t)},goodsList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="/pages/classify/index";Object.keys(t).length&&(e=this.$common.builderUrlParams(e,t)),this.$common.navigateTo(e)},groupDetail:function(t,e){this.$common.navigateTo("/pages/goods/index/group?id="+t+"&group_id="+e)},pintuanDetail:function(t,e){e?this.$common.navigateTo("/pages/goods/index/pintuan?id="+t+"&team_id="+e):this.$common.navigateTo("/pages/goods/index/pintuan?id="+t)}}};e.goods=a;var s={onBackPress:function(t){if("navigateBack"===t.from)return!1;var e=this.$store.state.redirectPage;return["/pages/cart/index/index","/pages/member/index/index"].indexOf(e)>-1?(this.$store.commit({type:"redirect",page:""}),uni.switchTab({url:"/pages/index/index"}),!0):void 0},backBtn:function(){var t=getCurrentPages();t.length>1?uni.navigateBack({delta:1}):uni.switchTab({url:"/pages/index/index"})}};e.goBack=s;var n={methods:{handleBack:function(){var t=this.$store.state.redirectPage;console.log(t),this.$store.commit({type:"redirect",page:""});["/pages/index/index","/pages/member/index/index"].indexOf(t)>-1?uni.switchTab({url:t}):t?uni.redirectTo({url:t}):uni.switchTab({url:"/pages/index/index"})}}};e.jumpBackPage=n;var d={methods:{checkIsLogin:function(){uni.showToast({title:"请先登录！",icon:"none",duration:800,success:function(t){setTimeout((function(){uni.hideToast(),uni.navigateTo({url:"/pages/login/login/index1"})}),200)}})}}};e.checkLogin=d;var c={methods:{setBarTitle:function(t){uni.setNavigationBarTitle({title:this.$t("".concat(t))})},copyData:function(t){var e=this;uni.setClipboardData({data:t,success:function(){e.$common.errorToShow("复制成功")}})},previewImage:function(t,e){uni.previewImage({current:e||0,urls:t,indicator:"default"})},savePoster:function(){this.downloadIamge(this.poster,"image")},downloadIamge:function(t,e){var i=new Image;i.setAttribute("crossorigin","anonymous"),i.onload=function(){var t=document.createElement("canvas");t.width=i.width,t.height=i.height;var o=t.getContext("2d");o.drawImage(i,0,0,i.width,i.height);var a=t.toDataURL("image/png"),s=document.createElement("a"),n=new MouseEvent("click");s.download=e||"photo",s.href=a,s.dispatchEvent(n)},i.src=t},downloadImageOfMp:function(t){}}};e.tools=c;var r={methods:{action:function(t,e){if(e)if(1==t)if(-1!=e.indexOf("http"))window.location.href=e;else{if("/pages/index/index"==e||"/pages/classify/classify"==e||"/pages/cart/index/index"==e||"/pages/me/index"==e)return void uni.switchTab({url:e});if(!(e.indexOf("/pages/coupon/coupon")>-1))return void navigateTo(e);var i=e.replace("/pages/coupon/coupon?id=","");this.receiveCoupon(i)}else 2==t?this.goodsDetail(e):3==t?this.$common.navigateTo("/pages/article/index?id="+e+"&id_type=1"):4==t?this.$common.navigateTo("/pages/article/list?cid="+e):5==t&&this.$common.navigateTo("/pages/form/detail/form?id="+e)},receiveCoupon:function(t){var e=this,i={promotion_id:t};this.$api.getCoupon(i,(function(t){t.status?e.$common.successToShow(t.msg):e.$common.errorToShow(t.msg)}))},goodsDetail:function(t){var e="/pages/goods/index/index?id="+t;navigateTo(e)}}};e.clickUrl=r;var l={data:function(){return{msgList:[{name:"下单通知",desc:"商城下单成功后通知我",func:"order",tmpl:"",status:!1},{name:"支付通知",desc:"订单支付后通知我",func:"pay",tmpl:"",status:!1},{name:"待付通知",desc:"未支付订单取消前通知我",func:"cancel",tmpl:"",status:!1},{name:"发货通知",desc:"订单发货后通知我",func:"ship",tmpl:"",status:!1},{name:"售后通知",desc:"订单售后结果通知我",func:"after_sale",tmpl:"",status:!1},{name:"退款通知",desc:"售后退款结果通知我",func:"refund",tmpl:"",status:!1}]}},methods:{getSubscriptionTmplIds:function(t){var e=this;this.$api.getSubscriptionTmplIds({type:t},(function(t){if(t.status){console.log("res.statue",t);for(var i=0;i<e.msgList.length;i++)t.data[e.msgList[i].func]&&(e.msgList[i].tmpl=t.data[e.msgList[i].func].template_id,""!=e.msgList[i].tmpl&&(e.msgList[i].status=!0))}}))},subAction:function(t){"function"==typeof t&&t()}}};e.subscription=l},adf7:function(t,e,i){"use strict";var o=i("062c"),a=i.n(o);a.a},e3eb:function(t,e,i){"use strict";i.r(e);var o=i("f49d"),a=i.n(o);for(var s in o)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(s);e["default"]=a.a},e763:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return o}));var o={hxNavbar:i("7e51").default,uniCountdown:i("231f").default,uniSegmentedControl:i("d315").default,uniRate:i("142a").default,uniLoadMore:i("bbcb").default,lvvPopup:i("361d").default,spec:i("5038").default,uniNumberBox:i("c135").default,uniFab:i("7557").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("hx-navbar",{attrs:{fixed:!0,title:t.barTitle,barPlaceholder:"hidden",transparent:"auto",color:"#000000","background-color":[[255,255,255],[255,255,255]],pageScroll:t.scrollData},on:{"update:pageScroll":function(e){arguments[0]=e=t.$handleEvent(e),t.scrollData=e},"update:page-scroll":function(e){arguments[0]=e=t.$handleEvent(e),t.scrollData=e}}}),i("v-uni-view",{staticClass:"content-top"},[i("v-uni-view",{staticClass:"swiper"},[i("v-uni-swiper",{staticClass:"swiper-c",attrs:{"indicator-dots":t.swiper.indicatorDots,autoplay:t.swiper.autoplay,interval:t.swiper.interval,duration:t.swiper.duration}},t._l(t.goodsInfo.album,(function(e,o){return i("v-uni-swiper-item",{key:o,staticClass:"have-none",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clickImg(e)}}},[i("v-uni-image",{attrs:{src:e,mode:"aspectFill"}})],1)})),1)],1),i("v-uni-view",{staticClass:"cell-group"},[t.goodsInfo.activity_status?i("v-uni-view",{staticClass:"price-salesvolume"},[i("v-uni-view",{staticClass:"commodity-price"},[i("v-uni-text",{staticClass:"current-price"},[t._v("￥"+t._s(t.product.price||"0.00"))]),parseFloat(t.product.mktprice)>0?i("v-uni-text",{staticClass:"cost-price"},[t._v("￥"+t._s(t.product.mktprice||"0.00"))]):t._e()],1),i("v-uni-view",{staticClass:"commodity-salesvolume"},[i("v-uni-text",[t._v("已售"+t._s(t.goodsInfo.buy_promotion_count||"0")+"件/剩余"+t._s(t.product.stock||"0")+"件")]),i("v-uni-text",[t._v("累计销售"+t._s(t.goodsInfo.buy_count||"0")+"件")])],1),i("v-uni-view",{staticClass:"commodity-time-wrap"},[i("v-uni-view",{staticClass:"commodity-time-img"}),i("v-uni-view",{staticClass:"commodity-time"},["1"==t.goodsInfo.activity_status?i("v-uni-text",[t._v("活动即将开始")]):t._e(),"2"==t.goodsInfo.activity_status?i("v-uni-text",[t._v("距结束仅剩")]):t._e(),"3"==t.goodsInfo.activity_status?i("v-uni-text",[t._v("活动已结束")]):t._e(),"2"==t.goodsInfo.activity_status||"1"==t.goodsInfo.activity_status||"3"==t.goodsInfo.activity_status?i("v-uni-view",{staticClass:"commodity-day"},[i("uni-countdown",{attrs:{day:t.lasttime.day,hour:t.lasttime.hour,textColor:"#fce250",minute:t.lasttime.minute,second:t.lasttime.second}})],1):t._e()],1)],1)],1):t._e(),i("v-uni-view",{staticClass:"cell-item goods-details"},[i("v-uni-view",{staticClass:"cell-item-hd"},[i("v-uni-view",{staticClass:"cell-hd-title"},[i("v-uni-view",{staticClass:"color-3 fsz28 cell-hd-title-view"},[t._v(t._s(t.product.name||""))]),t.goodsInfo.brief?i("v-uni-view",{staticClass:"color-9 fsz24 cell-hd-title-view"},[t._v(t._s(t.goodsInfo.brief||""))]):t._e()],1)],1),i("v-uni-view",{staticClass:"cell-item-ft"},[i("v-uni-image",{staticClass:"cell-ft-next icon",attrs:{src:"/static/image/share.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goShare()}}})],1)],1),t.promotion.length?i("v-uni-view",{staticClass:"cell-item goods-title-item cell-item-mid"},[i("v-uni-view",{staticClass:"cell-item-hd"},[i("v-uni-view",{staticClass:"cell-hd-title"},[t._v("促销")])],1),i("v-uni-view",{staticClass:"cell-item-bd"},[i("v-uni-view",{staticClass:"romotion-tip"},t._l(t.promotion,(function(e,o){return i("v-uni-view",{key:o,staticClass:"romotion-tip-item",class:2!==e.type?"bg-gray":""},[t._v(t._s(e.name||e||""))])})),1)],1)],1):t._e(),t.isSpes?i("v-uni-view",{staticClass:"cell-item goods-title-item cell-item-mid"},[i("v-uni-view",{staticClass:"cell-item-hd"},[i("v-uni-view",{staticClass:"cell-hd-title"},[t._v("规格")])],1),i("v-uni-view",{staticClass:"cell-item-bd",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toshow()}}},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v(t._s(t.product.spes_desc||""))])],1)],1):t._e(),t.goodsShowWord&&""!=t.goodsShowWord?i("v-uni-view",{staticClass:"cell-item goods-title-item cell-item-mid"},[i("v-uni-view",{staticClass:"cell-item-hd"},[i("v-uni-view",{staticClass:"cell-hd-title"},[t._v("说明")])],1),i("v-uni-view",{staticClass:"cell-item-bd"},t._l(t.goodsShowWord,(function(e,o){return i("v-uni-view",{key:o,staticClass:"cell-bd-view"},[i("v-uni-image",{staticClass:"goods-title-item-ic",attrs:{src:"/static/image/ic-dui.png",mode:""}}),i("v-uni-view",{staticClass:"cell-bd-text"},[t._v(t._s(e))])],1)})),1)],1):t._e()],1),i("v-uni-view",{staticClass:"goods-content"},[i("uni-segmented-control",{attrs:{current:t.current,values:t.items,"style-type":"text","active-color":"#333"},on:{clickItem:function(e){arguments[0]=e=t.$handleEvent(e),t.onClickItem.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"goods-content-c"},[0===t.current?i("v-uni-view",{staticClass:"goods-detail"},[t.goodsInfo.intro?i("jshopContent",{attrs:{content:t.goodsInfo.intro}}):i("v-uni-view",{staticClass:"comment-none"},[i("v-uni-image",{staticClass:"comment-none-img",attrs:{src:"/static/image/order.png",mode:""}})],1)],1):1===t.current?i("v-uni-view",{staticClass:"goods-parameter"},[t.goodsParams.length?i("v-uni-view",{staticClass:"cell-group"},t._l(t.goodsParams,(function(e,o){return i("v-uni-view",{key:o,staticClass:"cell-item"},[i("v-uni-view",{staticClass:"cell-item-hd"},[i("v-uni-view",{staticClass:"cell-hd-title"},[t._v(t._s(e.name||""))])],1),i("v-uni-view",{staticClass:"cell-item-bd"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v(t._s(e.value||""))])],1)],1)})),1):i("v-uni-view",{staticClass:"comment-none"},[i("v-uni-image",{staticClass:"comment-none-img",attrs:{src:"/static/image/order.png",mode:""}})],1)],1):2===t.current?i("v-uni-view",{staticClass:"goods-assess"},[t.goodsComments.list.length?i("v-uni-view",[t._l(t.goodsComments.list,(function(e,o){return i("v-uni-view",{key:o,staticClass:"goods-assess-item"},[i("v-uni-view",{staticClass:"cell-group"},[i("v-uni-view",{staticClass:"cell-item goods-title-item cell-item-mid"},[i("v-uni-view",{staticClass:"cell-item-hd"},[i("v-uni-image",{staticClass:"user-head-img",attrs:{src:e.user.avatar,mode:"aspectFill"}})],1),i("v-uni-view",{staticClass:"cell-item-bd"},[i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v(t._s(e.user.nickname||""))]),i("v-uni-view",{staticClass:"cell-bd-text-right"},[i("uni-rate",{attrs:{size:"16",disabled:"true",value:e.score}})],1)],1),i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text color-9",staticStyle:{"margin-right":"16upx"}},[t._v(t._s(e.ctime||""))]),i("v-uni-text",{staticClass:"cell-bd-text color-9"},[t._v(t._s(e.addon||""))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"gai-body"},[i("v-uni-view",{staticClass:"gai-body-text"},[t._v(t._s(e.content||""))]),e.images_url.length?i("v-uni-view",{staticClass:"gai-body-img"},t._l(e.images_url,(function(e,o){return i("v-uni-image",{key:o,attrs:{src:e,mode:"aspectFill"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clickImg(e)}}})})),1):t._e(),e.seller_content?i("v-uni-view",{staticClass:"seller-content"},[i("v-uni-view",{staticClass:"seller-content-top"},[i("v-uni-image",{staticClass:"seller-content-img",attrs:{src:"/static/image/seller-content.png"}}),t._v("掌柜回复")],1),t._v(t._s(e.seller_content||""))],1):t._e()],1)],1)})),i("uni-load-more",{attrs:{status:t.goodsComments.loadStatus}})],2):i("v-uni-view",{staticClass:"comment-none"},[i("v-uni-image",{staticClass:"comment-none-img",attrs:{src:"/static/image/order.png",mode:""}})],1)],1):t._e()],1)],1)],1),t.goodsId?i("lvv-popup",{ref:"share",attrs:{position:"bottom"}},[i("shareByH5",{attrs:{goodsId:t.goodsId,groupId:t.groupId,shareImg:t.goodsInfo.image_url,shareTitle:t.goodsInfo.name,shareContent:t.goodsInfo.brief,shareHref:t.shareHref,shareType:9},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.closeShare()}}})],1):t._e(),i("lvv-popup",{ref:"lvvpopref",attrs:{position:"bottom"}},[i("v-uni-view",{staticStyle:{width:"100%","max-height":"804upx",background:"#FFFFFF",position:"absolute",left:"0",bottom:"0"}},[i("v-uni-view",{staticClass:"pop-c"},[i("v-uni-view",{staticClass:"pop-t"},[i("v-uni-view",{staticClass:"goods-img"},[i("v-uni-image",{attrs:{src:t.product.image_path,mode:"aspectFill"}})],1),i("v-uni-view",{staticClass:"goods-information"},[i("v-uni-view",{staticClass:"pop-goods-name"},[t._v(t._s(t.product.name||""))]),i("v-uni-view",{staticClass:"pop-goods-price red-price"},[t._v("￥ "+t._s(t.product.price||""))])],1),i("v-uni-view",{staticClass:"close-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toclose()}}},[i("v-uni-image",{attrs:{src:"/static/image/close.png"}})],1)],1),i("v-uni-scroll-view",{staticClass:"pop-m",staticStyle:{"max-height":"560upx"},attrs:{"scroll-y":"true"}},[i("spec",{ref:"spec",attrs:{spesData:t.product.default_spes_desc},on:{changeSpes:function(e){arguments[0]=e=t.$handleEvent(e),t.changeSpes.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"goods-number"},[i("v-uni-text",{staticClass:"pop-m-title"},[t._v("数量")]),i("v-uni-view",{staticClass:"pop-m-bd-in"},[i("uni-number-box",{attrs:{min:t.minNums,max:t.product.stock,value:t.buyNum},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindChange.apply(void 0,arguments)}}})],1)],1)],1),i("v-uni-view",{staticClass:"pop-b"},[t.product.stock?i("v-uni-button",{staticClass:"btn btn-square btn-b btn-all",attrs:{"hover-class":"btn-hover2"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.buyNow()}}},[t._v("确定")]):i("v-uni-button",{staticClass:"btn btn-square btn-g btn-all"},[t._v("已售罄")])],1)],1)],1)],1),i("div",{ref:"qrCodeDiv",attrs:{id:"qrCode"}}),i("v-uni-view",{staticClass:"goods-bottom"},[i("v-uni-view",{staticClass:"goods-bottom-ic",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showChat()}}},[i("v-uni-image",{staticClass:"icon",attrs:{src:"/static/image/customerservice.png",mode:""}}),i("v-uni-view",[t._v("客服")])],1),i("v-uni-view",{staticClass:"goods-bottom-ic",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.collection.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"icon",attrs:{src:t.isfav?t.favLogo[1]:t.favLogo[0],mode:""}}),t.isfav?t._e():i("v-uni-view",[t._v("收藏")]),t.isfav?i("v-uni-view",[t._v("已收藏")]):t._e()],1),i("v-uni-view",{staticClass:"goods-bottom-ic",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.redirectCart.apply(void 0,arguments)}}},[t.cartNums?i("v-uni-view",{staticClass:"badge color-f"},[t._v(t._s(t.cartNums||""))]):t._e(),i("v-uni-image",{staticClass:"icon",attrs:{src:"/static/image/ic-me-car.png",mode:""}}),i("v-uni-view",[t._v("购物车")])],1),"1"==t.goodsInfo.activity_status?i("v-uni-button",{staticClass:"btn btn-square btn-b tl btn-hover2"},[t._v("即将开始")]):"3"==t.goodsInfo.activity_status?i("v-uni-button",{staticClass:"btn btn-square btn-b tl btn-hover2"},[t._v("已结束")]):i("v-uni-button",{staticClass:"btn btn-square btn-b tl",attrs:{"hover-class":"btn-hover2"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toshow(2)}}},[t._v("立即"+t._s(t.typeName||""))])],1),i("uni-fab",{attrs:{pattern:t.pattern,content:t.content,horizontal:t.horizontal,vertical:t.vertical,direction:t.direction},on:{trigger:function(e){arguments[0]=e=t.$handleEvent(e),t.trigger.apply(void 0,arguments)}}})],1)},s=[]},f49d:function(t,e,i){"use strict";i("6a54");var o=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("b7c7"));i("dc8a"),i("aa9c"),i("5c47"),i("a1c1"),i("d4b5"),i("bf0f"),i("2797"),i("c223");var s=o(i("d315")),n=o(i("361d")),d=o(i("c135")),c=o(i("142a")),r=o(i("bbcb")),l=o(i("7557")),u=i("96a1"),m=i("5138"),g=o(i("231f")),v=o(i("5038")),p=o(i("e437")),h=o(i("7b5e")),f=i("8ca7"),b={mixins:[f.goBack],components:{uniSegmentedControl:s.default,lvvPopup:n.default,uniNumberBox:d.default,uniRate:c.default,uniLoadMore:r.default,uniFab:l.default,uniCountdown:g.default,spec:v.default,jshopContent:h.default,shareByH5:p.default},data:function(){return{scrollData:{},barTitle:"",swiper:{indicatorDots:!0,autoplay:!0,interval:3e3,duration:800},items:["图文详情","商品参数","买家评论"],current:0,goodsId:0,groupId:0,goodsInfo:{},cartNums:0,product:{},goodsParams:[],goodsComments:{loadStatus:"more",page:1,limit:5,list:[]},buyNum:1,minBuyNum:1,type:1,isfav:!1,favLogo:["/static/image/ic-me-collect.png","/static/image/ic-me-collect2.png"],horizontal:"right",vertical:"bottom",direction:"vertical",pattern:{color:"#7A7E83",backgroundColor:"#fff",selectedColor:"#007AFF",buttonColor:"#FF7159"},content:[{iconPath:"/static/image/tab-ic-hom-selected.png",selectedIconPath:"/static/image/tab-ic-hom-unselected.png",active:!1,url:"/pages/index/index"},{iconPath:"/static/image/tab-ic-me-selected.png",selectedIconPath:"/static/image/tab-ic-me-unselected.png",active:!1,url:"/pages/member/index/index"}],indicatorDots:!1,autoplay:!1,interval:2e3,duration:500,lasttime:{hour:!1,minute:0,second:0},shareUrl:"/pages/share/jump",userInfo:{},kefupara:"",corpId:m.corpId,openQiyeWeixin:m.openQiyeWeixin,extInfoUrl:m.extInfoUrl}},onLoad:function(t){this.goodsId=t.id-0,this.groupId=t.group_id-0,this.goodsId&&this.groupId?(this.getGoodsInfo(),this.getGoodsParams(),this.getGoodsComments()):this.$common.errorToShow("获取失败",(function(){uni.navigateBack({delta:1})})),this.getCartNums()},computed:{minNums:function(){return this.product.stock>this.minBuyNum?this.minBuyNum:this.product.stock},isSpes:function(){return!(!this.product.hasOwnProperty("default_spes_desc")||!Object.keys(this.product.default_spes_desc).length)},promotion:function(){var t=[];if(this.product.promotion_list)for(var e in this.product.promotion_list)t.push(this.product.promotion_list[e]);return t},typeName:function(){return 3==this.goodsInfo.group_type?"团购":"秒杀"},shareHref:function(){var t=getCurrentPages(),e=t[t.length-1];return m.apiBaseUrl+"wap/"+e.route+"?id="+this.goodsId+"&group_id="+this.groupId},shopMobile:function(){return this.$store.state.config.shop_mobile||0},goodsShowWord:function(){return this.$store.state.config.goods_show_word}},onReachBottom:function(){2===this.current&&"more"===this.goodsComments.loadStatus&&this.getGoodsComments()},methods:{backBtn:function(){var t=getCurrentPages();t.length>1?uni.navigateBack({delta:1}):uni.navigateTo({url:"/pages/index/index"})},getGoodsInfo:function(){var t=this,e={id:this.goodsId,group_id:this.groupId},i=(0,u.get)("userToken");i&&(e["token"]=i);var o=this;this.$api.groupInfo(e,(function(e){if(e.status)if(e.data.length<1)t.$common.errorToShow("该商品不存在，请返回重新选择商品。",(function(){uni.navigateBack({delta:1})}));else if(1!=e.data.marketable)t.$common.errorToShow("该商品已下架，请返回重新选择商品。",(function(){uni.navigateBack({delta:1})}));else{var a=e.data,s=e.data.product;t.goodsInfo=a,t.isfav="true"===t.goodsInfo.isfav,t.product=t.spesClassHandle(s);var n=e.data.lasttime;o.lasttime=n,i&&t.goodsBrowsing()}else t.$common.errorToShow(e.msg,(function(){f.goBack.backBtn()}))}))},getCartNums:function(){var t=this,e=this.$db.get("userToken");e&&""!=e&&this.$api.getCartNum({},(function(e){e.status&&(t.cartNums=e.data)}))},toshow:function(t){this.type=t,this.$refs.lvvpopref.show()},toclose:function(){this.$refs.lvvpopref.close()},changeSpes:function(t){var e=this,i=t.v,o=t.k,a=JSON.parse(this.product.default_spes_desc);if(a[i][o].hasOwnProperty("product_id")&&a[i][o].product_id){var s=3==this.goodsInfo.group_type?"group":"skill",n={id:a[i][o].product_id,type:s,group_id:this.groupId},d=this.$db.get("userToken");d&&(n["token"]=d),this.$api.getGroupProductInfo(n,(function(t){1==t.status&&(e.buyNum=t.data.stock>e.minBuyNum?e.minBuyNum:t.data.stock,e.product=e.spesClassHandle(t.data))})),uni.showLoading({title:"加载中"}),setTimeout((function(){uni.hideLoading()}),1e3)}},spesClassHandle:function(t){if(t.hasOwnProperty("default_spes_desc")){var e=t.default_spes_desc;for(var i in e)for(var o in e[i])e[i][o].hasOwnProperty("is_default")&&!0===e[i][o].is_default?this.$set(e[i][o],"cla","pop-m-item selected"):e[i][o].hasOwnProperty("product_id")&&e[i][o].product_id?this.$set(e[i][o],"cla","pop-m-item not-selected"):this.$set(e[i][o],"cla","pop-m-item none");e=JSON.stringify(e).replace(/\./g,"===="),t.default_spes_desc=e}return t},bindChange:function(t){this.buyNum=t},collection:function(){var t=this,e={goods_id:this.goodsInfo.id};this.$api.goodsCollection(e,(function(e){e.status?(t.isfav=!t.isfav,t.$common.successToShow(e.msg)):t.$common.errorToShow(e.msg)}))},onClickItem:function(t){this.current!==t&&(this.current=t)},getGoodsParams:function(){var t=this;this.$api.goodsParams({id:this.goodsId},(function(e){1==e.status&&(t.goodsParams=e.data)}))},getGoodsComments:function(){var t=this,e={page:this.goodsComments.page,limit:this.goodsComments.limit,goods_id:this.goodsId};this.goodsComments.loadStatus="loading",this.$api.goodsComment(e,(function(e){if(1==e.status){var i=e.data.list;i.forEach((function(e){e.ctime=t.$common.timeToDate(e.ctime),e.hasOwnProperty("images_url")||t.$set(e,"images_url",[])})),t.goodsComments.list=[].concat((0,a.default)(t.goodsComments.list),(0,a.default)(i)),e.data.count>t.goodsComments.list.length?(t.goodsComments.loadStatus="more",t.goodsComments.page++):t.goodsComments.loadStatus="noMore"}else t.$common.errorToShow(e.msg)}))},goodsBrowsing:function(){var t={goods_id:this.goodsInfo.id};this.$api.addGoodsBrowsing(t,(function(t){}))},buyNow:function(){var t=this,e=3==this.goodsInfo.group_type?3:4;if(this.buyNum>0){var i={product_id:this.product.id,nums:this.buyNum,order_type:e};0!=this.groupId&&(i["params"]=JSON.stringify({group_id:this.groupId})),this.$api.addCart(i,(function(i){if(i.status){t.toclose();var o=i.data;t.$common.navigateTo("/pages/goods/place-order/index?cart_ids="+JSON.stringify(o)+"&order_type="+e+"&group_id="+t.groupId)}else t.$common.errorToShow(i.msg)}))}},Group:function(){var t=this;if(this.buyNum>0){var e={product_id:this.product.id,nums:this.buyNum,order_type:this.type};this.$api.addCart(e,(function(e){if(e.status){t.toclose();var i=e.data;t.$common.navigateTo("/pages/goods/place-order/index?cart_ids="+JSON.stringify(i))}}))}},redirectCart:function(){uni.navigateTo({url:"/pages/cart/index/index"})},trigger:function(t){this.content[t.index].active=!t.item.active,uni.navigateTo({url:t.item.url})},goShare:function(){this.$refs.share.show()},closeShare:function(){this.$refs.share.close()},clickImg:function(t){uni.previewImage({urls:t.split()})},showQwChat:function(){uni.openCustomerServiceChat({extInfo:{url:this.extInfoUrl},corpId:this.corpId,success:function(t){console.log(t)}})},showChat:function(){window._AIHECONG("ini",{entId:this.config.ent_id,button:!1,appearance:{panelMobile:{tone:"#FF7159",sideMargin:30,ratio:"part",headHeight:50}}}),window._AIHECONG("customer",{head:this.userInfo.avatar,"名称":this.userInfo.nickname,"手机":this.userInfo.mobile}),window._AIHECONG("showChat")},getShareUrl:function(){var t=this,e={client:2,url:"/pages/share/jump",type:1,page:9,params:{goods_id:this.goodsId,group_id:this.groupId}},i=this.$db.get("userToken");i&&""!=i&&(e["token"]=i),this.$api.share(e,(function(e){t.shareUrl=e.data}))}},watch:{goodsId:{handler:function(){this.getShareUrl()},deep:!0}},onShareAppMessage:function(){return{title:this.goodsInfo.name,imageUrl:this.goodsInfo.album[0],path:this.shareUrl}},onPageScroll:function(t){this.barTitle=t.scrollTop>100?"商品详情":"",this.scrollData=t}};e.default=b}}]);