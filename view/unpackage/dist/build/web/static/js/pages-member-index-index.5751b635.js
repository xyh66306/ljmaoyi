(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-member-index-index"],{2816:function(e,i,t){"use strict";t.r(i);var n=t("794e"),a=t.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){t.d(i,e,(function(){return n[e]}))}(o);i["default"]=a.a},"72b5":function(e,i,t){"use strict";t.d(i,"b",(function(){return n})),t.d(i,"c",(function(){return a})),t.d(i,"a",(function(){}));var n=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("v-uni-view",{staticClass:"content"},[t("v-uni-view",{staticClass:"Toparea"},[t("v-uni-view",{staticClass:"bg"},[t("v-uni-image",{attrs:{src:"/static/img/user.png",mode:""}})],1),t("v-uni-view",{staticClass:"user-info-wrap"},[e.hasLogin?[t("v-uni-view",{staticClass:"login-img",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.goToPage("/pages/member/setting/user_info/index")}}},[t("v-uni-image",{attrs:{src:e.userInfo.avatar,mode:""}})],1),t("v-uni-view",{staticClass:"login-info",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.goToPage("/pages/member/setting/user_info/index")}}},[t("v-uni-view",{staticClass:"nickname"},[e._v(e._s(e.userInfo.nickname))]),t("v-uni-view",{staticClass:"grade"},[e._v(e._s(e.userInfo.grade_name))])],1),t("v-uni-view",{staticClass:"ewm",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.createPoster()}}},[t("v-uni-image",{attrs:{src:"/static/img/ewm.png",mode:""}})],1)]:[t("v-uni-view",{staticClass:"login-img"},[t("v-uni-image",{attrs:{src:"/static/img/default_avatar.png",mode:""}})],1),t("v-uni-view",{staticClass:"login-text",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.toLogin.apply(void 0,arguments)}}},[e._v("请先登录")]),t("v-uni-view",{staticClass:"ewm"},[t("v-uni-image",{attrs:{src:"/static/img/ewm.png",mode:""}})],1)]],2),t("v-uni-view",{staticClass:"ss-order-menu-wrap flex ss-col-center",staticStyle:{"margin-top":"-100rpx"}},e._l(e.orderItems,(function(i,n){return t("v-uni-view",{key:n,staticClass:"item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.orderNavigateHandle("/pages/member/order/orderlist",i.index)}}},[t("v-uni-view",{staticClass:"item-img order_item-img"},[t("v-uni-image",{attrs:{src:i.icon}})],1),t("v-uni-view",{staticClass:"item-name"},[e._v(e._s(i.name))])],1)})),1),e.hasLogin?t("v-uni-view",{staticClass:"ss-money-menu-wrap flex ss-col-center"},[t("v-uni-view",{staticClass:"item",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.goToPage("/pages/member/dou/index")}}},[t("v-uni-view",{staticClass:"item-txt"},[e._v(e._s(e.userInfo.dou||"0.00"))]),t("v-uni-view",{staticClass:"item-name"},[e._v("酒豆")])],1),t("v-uni-view",{staticClass:"item",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.goToPage("/pages/member/exp/index")}}},[t("v-uni-view",{staticClass:"item-txt"},[e._v(e._s(e.userInfo.exp||"0.00"))]),t("v-uni-view",{staticClass:"item-name"},[e._v("元宝")])],1),t("v-uni-view",{staticClass:"item",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.goToPage("/pages/member/balance/index")}}},[t("v-uni-view",{staticClass:"item-txt"},[e._v(e._s(e.userInfo.balance||"0.00"))]),t("v-uni-view",{staticClass:"item-name"},[e._v("酒宝")])],1),t("v-uni-view",{staticClass:"item"},[t("v-uni-view",{staticClass:"item-img"},[t("v-uni-image",{attrs:{src:"/static/img/wallet_icon.png"}})],1),t("v-uni-view",{staticClass:"item-name"},[e._v("我的钱包")])],1)],1):e._e(),t("v-uni-view",{staticClass:"ss-power-menu-wrap flex ss-col-center"},[e._l(e.utilityMenus,(function(i,n){return t("v-uni-view",{key:n,staticClass:"item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.navigateToHandle(i.router)}}},[t("v-uni-view",{staticClass:"item-img"},[t("v-uni-image",{attrs:{src:i.icon}})],1),t("v-uni-view",{staticClass:"item-name"},[e._v(e._s(i.name))])],1)})),t("v-uni-view",{staticClass:"item"},[t("v-uni-view",{staticClass:"item-img"},[t("v-uni-image",{attrs:{src:"/static/img/pow_07.png"}})],1),t("v-uni-view",{staticClass:"item-name"},[e._v("联系客服")])],1)],2)],1)],1)},a=[]},"794e":function(e,i,t){"use strict";t("6a54"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,t("bf0f"),t("2797");var n=t("8ca7"),a=t("5138"),o=(function(){var e=0}(),{mixins:[n.checkLogin,n.common],data:function(){return{open_id:"",hasLogin:!1,userInfo:{},kefupara:"",afterSaleNums:0,isClerk:!1,alipayNoLogin:!0,alipayName:"",alipayAvatar:"",config:"",orderItems:[{name:"待付款",icon:"/static/img/no_pay.png",nums:0,index:1},{name:"待收货",icon:"/static/img/no_take.png",nums:0,index:2},{name:"待评价",icon:"/static/img/no_comment.png",nums:0,index:4},{name:"售后单",icon:"/static/img/change_order.png",nums:0,index:99},{name:"全部订单",icon:"/static/img/all_order.png",nums:0,index:0}],utilityMenus:{group:{name:"我的团队",icon:"/static/img/pow_10.png",router:"/pages/member/invite/list",unshowItem:!1,nums:0},sign:{name:"签到",icon:"/static/img/pow_01.png",router:"/pages/index/sign",unshowItem:!1,nums:0},balance:{name:"充值",icon:"/static/img/pow_02.png",router:"/pages/member/balance/recharge",unshowItem:!1,nums:0},setting:{name:"设置",icon:"/static/img/pow_03.png",router:"/pages/member/setting/index",unshowItem:!1,nums:0},tixian:{name:"收益",icon:"/static/img/pow_12.png",router:"/pages/member/commission/profit",unshowItem:!1,nums:0},address:{name:"收货地址",icon:"/static/img/pow_05.png",router:"/pages/member/address/list",unshowItem:!1,nums:0},coupon:{name:"优惠券",icon:"/static/img/pow_04.png",router:"/pages/member/coupon/index",unshowItem:!1,nums:0},integral:{name:"我的代金券",icon:"/static/img/pow_08.png",router:"/pages/member/integral/index",unshowItem:!1,nums:0}},list:2,suTipStatus:!1,isNavto:!1}},onShow:function(){this.isNavto=!0,this.initData()},methods:{goToPage:function(e){this.$common.navigateTo(e)},goLogin:function(){uni.navigateTo({url:"/pages/login/choose/index"})},getUserInfo:function(e){if("getUserInfo:fail auth deny"==e.detail.errMsg)this.$common.errorToShow("未授权");else{var i={open_id:this.open_id,iv:e.detail.iv,edata:e.detail.encryptedData,signature:e.detail.signature},t=this.$db.get("invitecode");t&&(i.invitecode=t),this.toWxLogin(i)}},getALICode:function(){var e=this;uni.login({scopes:"auth_user",success:function(i){i.authCode?uni.getUserInfo({provider:"alipay",success:function(t){if("getUserInfo:ok"==t.errMsg){var n={nickname:t.nickName,avatar:t.avatar};e.aLiLoginStep1(i.authCode,n)}},fail:function(i){e.$common.errorToShow("未取得用户昵称头像信息")}}):e.$common.errorToShow("未取得code")},fail:function(i){console.log(i),e.$common.errorToShow("用户授权失败my.login")}})},getWxCode:function(){var e=this;uni.login({scopes:"auth_user",success:function(i){i.code?e.wxLoginStep1(i.code):this.$common.errorToShow("未取得code")},fail:function(e){this.$common.errorToShow("用户授权失败wx.login")}})},wxLoginStep1:function(e){var i=this;this.$api.login1({code:e},(function(e){e.status?i.open_id=e.data:i.$common.errorToShow(e.msg,(function(){uni.navigateBack({delta:1})}))}))},aLiLoginStep1:function(e,i){var t=this,n={code:e,user_info:i};this.$api.alilogin1(n,(function(e){t.alipayNoLogin=!1,e.status?(t.open_id=e.data.user_wx_id,e.data.hasOwnProperty("token")?(t.$db.set("userToken",e.data.token),t.initData()):t.$common.navigateTo("/pages/login/login/index?user_wx_id="+e.data.user_wx_id)):t.$common.errorToShow(e.msg)}))},toWxLogin:function(e){var i=this;i.$api.login2(e,(function(e){e.status?"undefined"==typeof e.data.token?uni.redirectTo({url:"/pages/login/login/index?user_wx_id="+e.data.user_wx_id}):(i.$db.set("userToken",e.data.token),i.initData()):i.$common.errorToShow("登录失败，请重试")}))},toLogin:function(){this.$common.navigateTo("/pages/login/login/index1")},initData:function(){var e=this;this.$db.get("userToken")?(this.hasLogin=!0,this.$api.userInfo({},(function(i){if(i.status){e.userInfo=i.data;e.$api.getOrderStatusSum({ids:"1,2,3,4",isAfterSale:!0},(function(i){i.status&&(e.orderItems.forEach((function(e,t){e.nums=i.data[t+1]})),e.afterSaleNums=i.data.isAfterSale?i.data.isAfterSale:0)}))}}))):this.hasLogin=!1},navigateToHandle:function(e){if(!this.hasLogin)return this.isNavto?(this.checkIsLogin(),void(this.isNavto=!1)):void 0;this.$common.navigateTo(e)},gotoGroup:function(e){this.$common.navigateTo("/pages/member/groupcoupon/index?tab="+e)},orderNavigateHandle:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.hasLogin)return this.isNavto?(this.checkIsLogin(),void(this.isNavto=!1)):void 0;this.$store.commit("orderTab",i),this.$common.navigateTo(e)},goAfterSaleList:function(){if(!this.hasLogin)return this.isNavto?(this.checkIsLogin(),void(this.isNavto=!1)):void 0;this.$common.navigateTo("../after_sale/list")},showChat:function(){window._AIHECONG("ini",{entId:this.config.ent_id,button:!1,appearance:{panelMobile:{tone:"#FF7159",sideMargin:30,ratio:"part",headHeight:50}}}),window._AIHECONG("customer",{head:this.userInfo.avatar,"名称":this.userInfo.nickname,"手机":this.userInfo.mobile}),window._AIHECONG("showChat")},createPoster:function(){var e=this,i={page:1,type:3},t=this.$db.get("userToken");t&&(i.token=t),i.client=1,i.url=a.h5Url+"pages/share/jump",this.$api.share(i,(function(i){i.status?e.$common.navigateTo("/pages/share?poster="+encodeURIComponent(i.data)):e.$common.errorToShow(i.msg)}))}},computed:{shopMobile:function(){return this.$store.state.config.shop_mobile||0},invoice_switch:function(){return this.$store.state.config.invoice_switch||2},store_switch:function(){return this.$store.state.config.store_switch||0}},watch:{}});i.default=o},"8ca7":function(e,i,t){"use strict";t("6a54"),Object.defineProperty(i,"__esModule",{value:!0}),i.tools=i.subscription=i.orders=i.jumpBackPage=i.goods=i.goBack=i.common=i.clickUrl=i.checkLogin=void 0,t("dc8a"),t("5ef2"),t("5c47"),t("a1c1");var n={mounted:function(){},methods:{orderDetail:function(e){this.$common.navigateTo("/pages/member/order/orderdetail?order_id="+e)},toPay:function(e,i){i||(i=1),this.$common.navigateTo("/pages/goods/payment/index?order_id="+e+"&type="+i)},toEvaluate:function(e){this.$common.navigateTo("/pages/member/order/evaluate?order_id="+e)},showExpress:function(e,i){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=encodeURIComponent("code="+e+"&no="+i+"&add="+t);this.$common.navigateTo("/pages/member/order/express_delivery?params="+n)}}};i.orders=n;i.common={mounted:function(){},methods:{goToPage:function(e){this.$common.navigateTo(e)}}};var a={mounted:function(){},methods:{goodsDetail:function(e){this.$common.navigateTo("/pages/goods/index/index?id="+e)},goodsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i="/pages/classify/index";Object.keys(e).length&&(i=this.$common.builderUrlParams(i,e)),this.$common.navigateTo(i)},groupDetail:function(e,i){this.$common.navigateTo("/pages/goods/index/group?id="+e+"&group_id="+i)},pintuanDetail:function(e,i){i?this.$common.navigateTo("/pages/goods/index/pintuan?id="+e+"&team_id="+i):this.$common.navigateTo("/pages/goods/index/pintuan?id="+e)}}};i.goods=a;var o={onBackPress:function(e){if("navigateBack"===e.from)return!1;var i=this.$store.state.redirectPage;return["/pages/cart/index/index","/pages/member/index/index"].indexOf(i)>-1?(this.$store.commit({type:"redirect",page:""}),uni.switchTab({url:"/pages/index/index"}),!0):void 0},backBtn:function(){var e=getCurrentPages();e.length>1?uni.navigateBack({delta:1}):uni.switchTab({url:"/pages/index/index"})}};i.goBack=o;var s={methods:{handleBack:function(){var e=this.$store.state.redirectPage;console.log(e),this.$store.commit({type:"redirect",page:""});["/pages/index/index","/pages/member/index/index"].indexOf(e)>-1?uni.switchTab({url:e}):e?uni.redirectTo({url:e}):uni.switchTab({url:"/pages/index/index"})}}};i.jumpBackPage=s;var r={methods:{checkIsLogin:function(){uni.showToast({title:"请先登录！",icon:"none",duration:800,success:function(e){setTimeout((function(){uni.hideToast(),uni.navigateTo({url:"/pages/login/login/index1"})}),200)}})}}};i.checkLogin=r;var c={methods:{setBarTitle:function(e){uni.setNavigationBarTitle({title:this.$t("".concat(e))})},copyData:function(e){var i=this;uni.setClipboardData({data:e,success:function(){i.$common.errorToShow("复制成功")}})},previewImage:function(e,i){uni.previewImage({current:i||0,urls:e,indicator:"default"})},savePoster:function(){this.downloadIamge(this.poster,"image")},downloadIamge:function(e,i){var t=new Image;t.setAttribute("crossorigin","anonymous"),t.onload=function(){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);var a=e.toDataURL("image/png"),o=document.createElement("a"),s=new MouseEvent("click");o.download=i||"photo",o.href=a,o.dispatchEvent(s)},t.src=e},downloadImageOfMp:function(e){}}};i.tools=c;var u={methods:{action:function(e,i){if(i)if(1==e)if(-1!=i.indexOf("http"))window.location.href=i;else{if("/pages/index/index"==i||"/pages/classify/classify"==i||"/pages/cart/index/index"==i||"/pages/me/index"==i)return void uni.switchTab({url:i});if(!(i.indexOf("/pages/coupon/coupon")>-1))return void navigateTo(i);var t=i.replace("/pages/coupon/coupon?id=","");this.receiveCoupon(t)}else 2==e?this.goodsDetail(i):3==e?this.$common.navigateTo("/pages/article/index?id="+i+"&id_type=1"):4==e?this.$common.navigateTo("/pages/article/list?cid="+i):5==e&&this.$common.navigateTo("/pages/form/detail/form?id="+i)},receiveCoupon:function(e){var i=this,t={promotion_id:e};this.$api.getCoupon(t,(function(e){e.status?i.$common.successToShow(e.msg):i.$common.errorToShow(e.msg)}))},goodsDetail:function(e){var i="/pages/goods/index/index?id="+e;navigateTo(i)}}};i.clickUrl=u;var m={data:function(){return{msgList:[{name:"下单通知",desc:"商城下单成功后通知我",func:"order",tmpl:"",status:!1},{name:"支付通知",desc:"订单支付后通知我",func:"pay",tmpl:"",status:!1},{name:"待付通知",desc:"未支付订单取消前通知我",func:"cancel",tmpl:"",status:!1},{name:"发货通知",desc:"订单发货后通知我",func:"ship",tmpl:"",status:!1},{name:"售后通知",desc:"订单售后结果通知我",func:"after_sale",tmpl:"",status:!1},{name:"退款通知",desc:"售后退款结果通知我",func:"refund",tmpl:"",status:!1}]}},methods:{getSubscriptionTmplIds:function(e){var i=this;this.$api.getSubscriptionTmplIds({type:e},(function(e){if(e.status){console.log("res.statue",e);for(var t=0;t<i.msgList.length;t++)e.data[i.msgList[t].func]&&(i.msgList[t].tmpl=e.data[i.msgList[t].func].template_id,""!=i.msgList[t].tmpl&&(i.msgList[t].status=!0))}}))},subAction:function(e){"function"==typeof e&&e()}}};i.subscription=m},9184:function(e,i,t){"use strict";t.r(i);var n=t("72b5"),a=t("2816");for(var o in a)["default"].indexOf(o)<0&&function(e){t.d(i,e,(function(){return a[e]}))}(o);t("ece0");var s=t("828b"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"7639fe5d",null,!1,n["a"],void 0);i["default"]=r.exports},ba24:function(e,i,t){var n=t("c86c");i=n(!1),i.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-image[data-v-7639fe5d]{width:100%;height:100%}.Toparea[data-v-7639fe5d]{position:relative}.Toparea .bg[data-v-7639fe5d]{width:%?750?%;height:%?320?%}.Toparea .user-info-wrap[data-v-7639fe5d]{position:absolute;left:%?20?%;top:%?0?%;width:%?710?%;margin:%?40?% auto 0;padding:0 %?20?%;display:flex;align-items:center}.Toparea .user-info-wrap .login-img[data-v-7639fe5d]{width:%?120?%;height:%?120?%;border-radius:%?120?%;overflow:hidden;border:#fff %?2?% solid}.Toparea .user-info-wrap .login-img uni-image[data-v-7639fe5d]{width:100%;height:100%}.Toparea .user-info-wrap .login-text[data-v-7639fe5d]{margin-left:%?20?%;line-height:%?100?%;font-size:%?36?%;color:#333}.Toparea .user-info-wrap .login-info[data-v-7639fe5d]{margin-left:%?20?%;line-height:%?50?%;color:#333}.Toparea .user-info-wrap .login-info .nickname[data-v-7639fe5d]{font-size:%?28?%}.Toparea .user-info-wrap .login-info .grade[data-v-7639fe5d]{font-size:%?24?%}.Toparea .user-info-wrap .ewm[data-v-7639fe5d]{width:%?36?%;height:%?36?%;margin-left:auto;margin-right:%?20?%}.ss-order-menu-wrap[data-v-7639fe5d]{position:relative;z-index:9;height:%?160?%;align-items:center}.ss-order-menu-wrap .item[data-v-7639fe5d]{flex:1}.ss-order-menu-wrap .item .item-img[data-v-7639fe5d]{width:%?44?%;height:%?52?%;margin:0 auto}.ss-order-menu-wrap .item .order_item-img[data-v-7639fe5d]{width:%?44?%;height:%?44?%;margin:0 auto}.ss-order-menu-wrap .item .item-name[data-v-7639fe5d]{font-size:%?24?%;color:#333;line-height:%?46?%;text-align:center;margin-top:%?20?%}.ss-coupon-menu-wrap .item[data-v-7639fe5d]{width:25%}.ss-coupon-menu-wrap .item .item-img[data-v-7639fe5d]{width:%?44?%;height:%?44?%;margin:0 auto}.ss-coupon-menu-wrap .item .item-name[data-v-7639fe5d]{font-size:%?24?%;color:#333;line-height:%?46?%;text-align:center;margin-top:%?20?%}.ss-power-menu-wrap[data-v-7639fe5d]{flex-wrap:wrap}.ss-power-menu-wrap .item[data-v-7639fe5d]{width:25%;height:%?176?%;display:flex;flex-direction:column;align-items:center;justify-content:center}.ss-power-menu-wrap .item .item-img[data-v-7639fe5d]{width:%?48?%;height:%?48?%;margin:0 auto}.ss-power-menu-wrap .item .item-name[data-v-7639fe5d]{font-size:%?24?%;color:#333;line-height:%?46?%;text-align:center;margin-top:%?20?%}.ss-money-menu-wrap .item[data-v-7639fe5d]{width:25%}.ss-money-menu-wrap .item .item-txt[data-v-7639fe5d]{font-size:%?24?%;color:#333;line-height:%?38?%;text-align:center}.ss-money-menu-wrap .item .item-img[data-v-7639fe5d]{width:%?44?%;height:%?44?%;margin:0 auto}.ss-money-menu-wrap .item .item-name[data-v-7639fe5d]{font-size:%?24?%;color:#333;line-height:%?46?%;text-align:center;margin-top:%?20?%}.ss-col-center[data-v-7639fe5d]{width:%?710?%;position:relative;z-index:9;min-height:%?160?%;align-items:center;margin:%?20?% auto %?0?%;border-radius:%?20?%;background-color:#fff;overflow:hidden}',""]),e.exports=i},e334:function(e,i,t){var n=t("ba24");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=t("967d").default;a("36557faa",n,!0,{sourceMap:!1,shadowMode:!1})},ece0:function(e,i,t){"use strict";var n=t("e334"),a=t.n(n);a.a}}]);