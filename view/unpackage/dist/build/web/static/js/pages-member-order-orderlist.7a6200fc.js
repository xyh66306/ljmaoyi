(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-member-order-orderlist"],{"21d4":function(t,e,i){var n=i("a570");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("967d").default;a("06eb74d2",n,!0,{sourceMap:!1,shadowMode:!1})},3471:function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=(0,n.default)(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,d=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return r=t.done,t},e:function(t){d=!0,s=t},f:function(){try{r||null==i["return"]||i["return"]()}finally{if(d)throw s}}}},i("01a2"),i("e39c"),i("bf0f"),i("844d"),i("18f7"),i("de6c"),i("7a76"),i("c9b5");var n=function(t){return t&&t.__esModule?t:{default:t}}(i("5d6b"))},3996:function(t,e,i){"use strict";i.r(e);var n=i("7ec9"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"46d9":function(t,e,i){"use strict";var n=i("21d4"),a=i.n(n);a.a},"536a":function(t,e,i){"use strict";var n=i("726a"),a=i.n(n);a.a},"5ba0":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"segmented-control",class:t.styleType,style:t.wrapStyle},t._l(t.values,(function(e,n){return i("v-uni-view",{key:n,staticClass:"segmented-control-item",class:t.styleType,style:n===t.currentIndex?t.activeStyle:t.itemStyle,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick(n)}}},[t._v(t._s(e))])})),1)},a=[]},"5fcf":function(t,e,i){"use strict";i.r(e);var n=i("fb81"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},6221:function(t,e,i){"use strict";i.r(e);var n=i("b37a"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"726a":function(t,e,i){var n=i("9651");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("967d").default;a("6c23c72d",n,!0,{sourceMap:!1,shadowMode:!1})},"7ec9":function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("64aa"),i("c223");var n={name:"uni-segmented-control",props:{current:{type:Number,default:0},values:{type:Array,default:function(){return[]}},activeColor:{type:String,default:"#007aff"},styleType:{type:String,default:"button"}},data:function(){return{currentIndex:this.current}},watch:{current:function(t){t!==this.currentIndex&&(this.currentIndex=t)}},computed:{wrapStyle:function(){var t="";switch(this.styleType){case"text":t="border:0;";break;default:t="border-color: ".concat(this.activeColor);break}return t},itemStyle:function(){var t="";switch(this.styleType){case"text":t="color:#999;border-left:0;";break;default:t="color:".concat(this.activeColor,";border-color:").concat(this.activeColor,";");break}return t},activeStyle:function(){var t="";switch(this.styleType){case"text":t="color:".concat(this.activeColor,";border-left:0;border-bottom-style:solid;border-bottom-width:4upx");break;default:t="color:#fff;border-color:".concat(this.activeColor,";background-color:").concat(this.activeColor);break}return t}},methods:{onClick:function(t){this.currentIndex!==t&&(this.currentIndex=t,this.$emit("clickItem",t))}}};e.default=n},"8ca7":function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.tools=e.subscription=e.orders=e.jumpBackPage=e.goods=e.goBack=e.common=e.clickUrl=e.checkLogin=void 0,i("dc8a"),i("5ef2"),i("5c47"),i("a1c1");var n={mounted:function(){},methods:{orderDetail:function(t){this.$common.navigateTo("/pages/member/order/orderdetail?order_id="+t)},toPay:function(t,e){e||(e=1),this.$common.navigateTo("/pages/goods/payment/index?order_id="+t+"&type="+e)},toEvaluate:function(t){this.$common.navigateTo("/pages/member/order/evaluate?order_id="+t)},showExpress:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=encodeURIComponent("code="+t+"&no="+e+"&add="+i);this.$common.navigateTo("/pages/member/order/express_delivery?params="+n)}}};e.orders=n;e.common={mounted:function(){},methods:{goToPage:function(t){this.$common.navigateTo(t)}}};var a={mounted:function(){},methods:{goodsDetail:function(t){this.$common.navigateTo("/pages/goods/index/index?id="+t)},goodsList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="/pages/classify/index";Object.keys(t).length&&(e=this.$common.builderUrlParams(e,t)),this.$common.navigateTo(e)},groupDetail:function(t,e){this.$common.navigateTo("/pages/goods/index/group?id="+t+"&group_id="+e)},pintuanDetail:function(t,e){e?this.$common.navigateTo("/pages/goods/index/pintuan?id="+t+"&team_id="+e):this.$common.navigateTo("/pages/goods/index/pintuan?id="+t)}}};e.goods=a;var o={onBackPress:function(t){if("navigateBack"===t.from)return!1;var e=this.$store.state.redirectPage;return["/pages/cart/index/index","/pages/member/index/index"].indexOf(e)>-1?(this.$store.commit({type:"redirect",page:""}),uni.switchTab({url:"/pages/index/index"}),!0):void 0},backBtn:function(){var t=getCurrentPages();t.length>1?uni.navigateBack({delta:1}):uni.switchTab({url:"/pages/index/index"})}};e.goBack=o;var s={methods:{handleBack:function(){var t=this.$store.state.redirectPage;console.log(t),this.$store.commit({type:"redirect",page:""});["/pages/index/index","/pages/member/index/index"].indexOf(t)>-1?uni.switchTab({url:t}):t?uni.redirectTo({url:t}):uni.switchTab({url:"/pages/index/index"})}}};e.jumpBackPage=s;var r={methods:{checkIsLogin:function(){uni.showToast({title:"请先登录！",icon:"none",duration:800,success:function(t){setTimeout((function(){uni.hideToast(),uni.navigateTo({url:"/pages/login/login/index1"})}),200)}})}}};e.checkLogin=r;var d={methods:{setBarTitle:function(t){uni.setNavigationBarTitle({title:this.$t("".concat(t))})},copyData:function(t){var e=this;uni.setClipboardData({data:t,success:function(){e.$common.errorToShow("复制成功")}})},previewImage:function(t,e){uni.previewImage({current:e||0,urls:t,indicator:"default"})},savePoster:function(){this.downloadIamge(this.poster,"image")},downloadIamge:function(t,e){var i=new Image;i.setAttribute("crossorigin","anonymous"),i.onload=function(){var t=document.createElement("canvas");t.width=i.width,t.height=i.height;var n=t.getContext("2d");n.drawImage(i,0,0,i.width,i.height);var a=t.toDataURL("image/png"),o=document.createElement("a"),s=new MouseEvent("click");o.download=e||"photo",o.href=a,o.dispatchEvent(s)},i.src=t},downloadImageOfMp:function(t){}}};e.tools=d;var c={methods:{action:function(t,e){if(e)if(1==t)if(-1!=e.indexOf("http"))window.location.href=e;else{if("/pages/index/index"==e||"/pages/classify/classify"==e||"/pages/cart/index/index"==e||"/pages/me/index"==e)return void uni.switchTab({url:e});if(!(e.indexOf("/pages/coupon/coupon")>-1))return void navigateTo(e);var i=e.replace("/pages/coupon/coupon?id=","");this.receiveCoupon(i)}else 2==t?this.goodsDetail(e):3==t?this.$common.navigateTo("/pages/article/index?id="+e+"&id_type=1"):4==t?this.$common.navigateTo("/pages/article/list?cid="+e):5==t&&this.$common.navigateTo("/pages/form/detail/form?id="+e)},receiveCoupon:function(t){var e=this,i={promotion_id:t};this.$api.getCoupon(i,(function(t){t.status?e.$common.successToShow(t.msg):e.$common.errorToShow(t.msg)}))},goodsDetail:function(t){var e="/pages/goods/index/index?id="+t;navigateTo(e)}}};e.clickUrl=c;var u={data:function(){return{msgList:[{name:"下单通知",desc:"商城下单成功后通知我",func:"order",tmpl:"",status:!1},{name:"支付通知",desc:"订单支付后通知我",func:"pay",tmpl:"",status:!1},{name:"待付通知",desc:"未支付订单取消前通知我",func:"cancel",tmpl:"",status:!1},{name:"发货通知",desc:"订单发货后通知我",func:"ship",tmpl:"",status:!1},{name:"售后通知",desc:"订单售后结果通知我",func:"after_sale",tmpl:"",status:!1},{name:"退款通知",desc:"售后退款结果通知我",func:"refund",tmpl:"",status:!1}]}},methods:{getSubscriptionTmplIds:function(t){var e=this;this.$api.getSubscriptionTmplIds({type:t},(function(t){if(t.status){console.log("res.statue",t);for(var i=0;i<e.msgList.length;i++)t.data[e.msgList[i].func]&&(e.msgList[i].tmpl=t.data[e.msgList[i].func].template_id,""!=e.msgList[i].tmpl&&(e.msgList[i].status=!0))}}))},subAction:function(t){"function"==typeof t&&t()}}};e.subscription=u},"8d34":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uniSegmentedControl:i("d315").default,uniLoadMore:i("bbcb").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("uni-segmented-control",{attrs:{current:t.tab,values:t.items,"style-type":"text","active-color":"#fda14a"},on:{clickItem:function(e){arguments[0]=e=t.$handleEvent(e),t.onClickItem.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"order-list"},[t.list.length?i("v-uni-view",{staticClass:"goods-detail"},[t._l(t.list,(function(e,n){return i("v-uni-view",{key:n,staticClass:"order-item"},[i("v-uni-view",{staticClass:"cell-group"},[i("v-uni-view",{staticClass:"cell-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.orderDetail(e.order_id)}}},[i("v-uni-view",{staticClass:"cell-item-hd"},[i("v-uni-view",{staticClass:"cell-hd-title"},[t._v("订单编号："+t._s(e.order_id))])],1),i("v-uni-view",{staticClass:"cell-item-ft"},[i("v-uni-text",{staticClass:"cell-ft-text"},[t._v(t._s(e.order_status_name))])],1)],1)],1),i("v-uni-view",{staticClass:"img-list"},[t._l(e.items,(function(n,a){return[4!=t.tab||n.name.indexOf("赠品")<0?i("v-uni-view",{key:a+"_0",staticClass:"img-list-item"},[i("v-uni-image",{staticClass:"img-list-item-l little-img have-none",attrs:{src:n.image_url,mode:"aspectFill"}}),i("v-uni-view",{staticClass:"img-list-item-r little-right"},[i("v-uni-view",{staticClass:"little-right-t"},[i("v-uni-view",{staticClass:"goods-name list-goods-name",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.orderDetail(e.order_id)}}},[t._v(t._s(n.name))]),i("v-uni-view",{staticClass:"goods-price"},[t._v("￥"+t._s(n.price))])],1),i("v-uni-view",{staticClass:"romotion-tip"},t._l(n.promotion_list,(function(e,n){return i("v-uni-view",{key:n,staticClass:"romotion-tip-item"},[t._v(t._s(e))])})),1),i("v-uni-view",{staticClass:"goods-item-c"},[i("v-uni-view",{staticClass:"goods-buy"},[null!==n.addon?i("v-uni-view",{staticClass:"goods-salesvolume"},[t._v(t._s(n.addon))]):t._e(),i("v-uni-view",{staticClass:"goods-num"},[t._v("× "+t._s(n.nums))])],1)],1)],1)],1):t._e()]}))],2),i("v-uni-view",{staticClass:"cell-group"},[i("v-uni-view",{staticClass:"cell-item"},[i("v-uni-view",{staticClass:"cell-item-ft goods-num"},[10!=e.order_type?i("v-uni-text",{staticClass:"cell-ft-text"},[t._v("合计"),i("v-uni-text",{staticClass:"red-price"},[t._v("￥ "+t._s(e.order_amount))])],1):i("v-uni-text",{staticClass:"cell-ft-text"},[t._v("合计"),i("v-uni-text",{staticClass:"red-price"},[t._v("￥ "+t._s(e.order_amount)+"+ "+t._s(e.point)+" 代金券")])],1),i("v-uni-text",{staticClass:"cell-ft-text"},[t._v("共 "+t._s(e.items.length)+" 件")])],1)],1)],1),i("v-uni-view",{staticClass:"order-list-button"},[1==e.order_type?i("v-uni-button",{staticClass:"btn btn-circle btn-w again",staticStyle:{width:"initial"},attrs:{"hover-class":"btn-hover"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.buyAgain(e.items)}}},[t._v("再次购买")]):t._e(),i("v-uni-button",{staticClass:"btn btn-circle btn-g",attrs:{"hover-class":"btn-hover"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.orderDetail(e.order_id)}}},[t._v("查看详情")]),1===e.status&&1===e.pay_status?i("v-uni-button",{staticClass:"btn btn-circle btn-w",attrs:{"hover-class":"btn-hover"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toPay(e.order_id,e.order_type)}}},[t._v("立即支付")]):t._e(),1===e.status&&e.pay_status>=2&&e.ship_status>=3&&1===e.confirm?i("v-uni-button",{staticClass:"btn btn-circle btn-w",attrs:{"hover-class":"btn-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tackDelivery(n)}}},[t._v("确认收货")]):t._e(),1===e.status&&e.pay_status>=2&&e.ship_status>=3&&e.confirm>=2&&1===e.is_comment?i("v-uni-button",{staticClass:"btn btn-circle btn-w",attrs:{"hover-class":"btn-hover"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toEvaluate(e.order_id)}}},[t._v("立即评价")]):t._e()],1)],1)})),i("uni-load-more",{attrs:{status:t.loadStatus}})],2):i("v-uni-view",{staticClass:"order-none"},[i("v-uni-image",{staticClass:"order-none-img",attrs:{src:"/static/img/order-empty.png",mode:""}})],1)],1)],1)},o=[]},"91c9":function(t,e,i){var n=i("af91");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("967d").default;a("94a68ef6",n,!0,{sourceMap:!1,shadowMode:!1})},9651:function(t,e,i){var n=i("c86c");e=n(!1),e.push([t.i,".segmented-control[data-v-81dcc712]{\r\ntop:44px;\r\n\r\n\r\nwidth:100%;background-color:#fff;position:fixed;z-index:999}.segmented-control.text[data-v-81dcc712]{width:100%!important}.segmented-control-item[data-v-81dcc712]{line-height:%?70?%}.order-list[data-v-81dcc712]{margin-top:%?64?%}.order-item[data-v-81dcc712]{margin-bottom:%?20?%}.img-list[data-v-81dcc712]{margin-top:%?2?%}.cell-group[data-v-81dcc712],.img-list-item[data-v-81dcc712]{background-color:#fff}.cell-hd-title[data-v-81dcc712]{font-size:%?22?%;color:#666}.cell-ft-text[data-v-81dcc712]{top:0;font-size:%?22?%;color:#333}.btn.again[data-v-81dcc712]{margin-right:%?20?%}.order-list-button[data-v-81dcc712]{width:100%;background-color:#fff;text-align:right;padding:%?10?% %?26?%}.order-list-button .btn[data-v-81dcc712]{height:%?50?%;line-height:%?50?%}.order-list-button .btn-w[data-v-81dcc712]{margin-left:%?20?%}.goods-num .cell-ft-text[data-v-81dcc712]{color:#999;line-height:%?32?%}.goods-num .cell-ft-text[data-v-81dcc712]:first-child{margin-left:%?10?%}.order-none[data-v-81dcc712]{text-align:center;padding:%?200?% 0}.order-none-img[data-v-81dcc712]{width:%?274?%;height:%?274?%}.goods-name[data-v-81dcc712]{min-height:%?74?%}",""]),t.exports=e},a570:function(t,e,i){var n=i("c86c");e=n(!1),e.push([t.i,".segmented-control[data-v-4a52c4ac]{display:flex;flex-direction:row;justify-content:center;width:75%;font-size:%?28?%;border-radius:%?10?%;box-sizing:border-box;margin:0 auto;overflow:hidden}.segmented-control.button[data-v-4a52c4ac]{border:%?2?% solid}.segmented-control.text[data-v-4a52c4ac]{border:0;border-radius:%?0?%;width:100%}.segmented-control-item[data-v-4a52c4ac]{flex:1;text-align:center;line-height:%?74?%;box-sizing:border-box}.segmented-control-item.button[data-v-4a52c4ac]{border-left:%?1?% solid}.segmented-control-item.text[data-v-4a52c4ac]{border-left:0}.segmented-control-item[data-v-4a52c4ac]:first-child{border-left-width:0}",""]),t.exports=e},a81c:function(t,e,i){"use strict";i.r(e);var n=i("8d34"),a=i("6221");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("536a");var s=i("828b"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"81dcc712",null,!1,n["a"],void 0);e["default"]=r.exports},af91:function(t,e,i){var n=i("c86c");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.uni-load-more[data-v-4403899d]{display:flex;flex-direction:row;height:%?80?%;align-items:center;justify-content:center}.uni-load-more__text[data-v-4403899d]{font-size:%?26?%;color:#999}.uni-load-more__img[data-v-4403899d]{height:24px;width:24px;margin-right:10px}.uni-load-more__img > uni-view[data-v-4403899d]{position:absolute}.uni-load-more__img > uni-view uni-view[data-v-4403899d]{width:6px;height:2px;border-top-left-radius:1px;border-bottom-left-radius:1px;background:#999;position:absolute;opacity:.2;-webkit-transform-origin:50%;transform-origin:50%;-webkit-animation:load-data-v-4403899d 1.56s ease infinite;animation:load-data-v-4403899d 1.56s ease infinite}.uni-load-more__img > uni-view uni-view[data-v-4403899d]:nth-child(1){-webkit-transform:rotate(90deg);transform:rotate(90deg);top:2px;left:9px}.uni-load-more__img > uni-view uni-view[data-v-4403899d]:nth-child(2){-webkit-transform:rotate(180deg);transform:rotate(180deg);top:11px;right:0}.uni-load-more__img > uni-view uni-view[data-v-4403899d]:nth-child(3){-webkit-transform:rotate(270deg);transform:rotate(270deg);bottom:2px;left:9px}.uni-load-more__img > uni-view uni-view[data-v-4403899d]:nth-child(4){top:11px;left:0}.load1[data-v-4403899d],\n.load2[data-v-4403899d],\n.load3[data-v-4403899d]{height:24px;width:24px}.load2[data-v-4403899d]{-webkit-transform:rotate(30deg);transform:rotate(30deg)}.load3[data-v-4403899d]{-webkit-transform:rotate(60deg);transform:rotate(60deg)}.load1 uni-view[data-v-4403899d]:nth-child(1){-webkit-animation-delay:0s;animation-delay:0s}.load2 uni-view[data-v-4403899d]:nth-child(1){-webkit-animation-delay:.13s;animation-delay:.13s}.load3 uni-view[data-v-4403899d]:nth-child(1){-webkit-animation-delay:.26s;animation-delay:.26s}.load1 uni-view[data-v-4403899d]:nth-child(2){-webkit-animation-delay:.39s;animation-delay:.39s}.load2 uni-view[data-v-4403899d]:nth-child(2){-webkit-animation-delay:.52s;animation-delay:.52s}.load3 uni-view[data-v-4403899d]:nth-child(2){-webkit-animation-delay:.65s;animation-delay:.65s}.load1 uni-view[data-v-4403899d]:nth-child(3){-webkit-animation-delay:.78s;animation-delay:.78s}.load2 uni-view[data-v-4403899d]:nth-child(3){-webkit-animation-delay:.91s;animation-delay:.91s}.load3 uni-view[data-v-4403899d]:nth-child(3){-webkit-animation-delay:1.04s;animation-delay:1.04s}.load1 uni-view[data-v-4403899d]:nth-child(4){-webkit-animation-delay:1.17s;animation-delay:1.17s}.load2 uni-view[data-v-4403899d]:nth-child(4){-webkit-animation-delay:1.3s;animation-delay:1.3s}.load3 uni-view[data-v-4403899d]:nth-child(4){-webkit-animation-delay:1.43s;animation-delay:1.43s}@-webkit-keyframes load-data-v-4403899d{0%{opacity:1}100%{opacity:.2}}',""]),t.exports=e},b37a:function(t,e,i){"use strict";i("6a54");var n=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("d4b5"),i("aa9c"),i("c223"),i("dd2b"),i("bf0f"),i("2797");var a=n(i("b7c7")),o=n(i("3471")),s=n(i("d315")),r=n(i("bbcb")),d=i("8ca7"),c={mixins:[d.orders,d.goods],components:{uniSegmentedControl:s.default,uniLoadMore:r.default},data:function(){return{items:["全部","待付款","待发货","已发货","待评价"],list:[],page:1,limit:5,loadStatus:"more",status:[0,1,2,3,4],isReload:!1,isBuyAgain:!1,order_type:""}},onLoad:function(t){this.order_type=t.order_type||"",this.initData()},onShow:function(){this.isBuyAgain=!1,this.isReload&&this.initData()},computed:{tab:function(){return this.$store.state.orderTab}},methods:{buyAgain:function(t){var e=this;if(!this.isBuyAgain){this.isBuyAgain=!0;var i,n=[],a=this,s=(0,o.default)(t);try{for(s.s();!(i=s.n()).done;){var r=i.value;n.push({product_id:r.product_id,nums:r.nums})}}catch(d){s.e(d)}finally{s.f()}this.$api.batchsetcart({cart:n},(function(t){t.status?e.$common.successToShow(t.msg,(function(){var e="";for(var i in t.data.ids)e+=","+t.data.ids[i];","==e.substr(0,1)&&(e=e.substr(1)),a.$common.navigateTo("/pages/goods/place-order/index?cart_ids="+JSON.stringify(e))})):e.$common.errorToShow(t.msg)})),console.log(t)}},initData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=t,this.list=[],this.orderList()},onClickItem:function(t){this.tab!==t&&(this.$store.commit("orderTab",t),this.initData())},orderList:function(){var t=this,e={page:this.page,limit:this.limit,status:this.status[this.tab]};this.order_type&&(e.order_type=this.order_type),this.loadStatus="loading",this.$api.orderList(e,(function(e){if(e.status){var i=e.data.list;e.data.status==t.status[t.tab]&&(t.list=[].concat((0,a.default)(t.list),(0,a.default)(t.formatOrderStatus(i))),e.data.count>t.list.length?(t.page++,t.loadStatus="more"):t.loadStatus="noMore")}else t.$common.errorToShow(e.msg)})),this.isReload&&(this.isReload=!1)},tackDelivery:function(t){var e=this;this.$common.modelShow("提示","确认执行收货操作吗?",(function(){var i={order_id:e.list[t].order_id};e.$api.confirmOrder(i,(function(i){i.status?e.$common.successToShow("确认收货成功",(function(){0!==e.tab?e.list.splice(t,1):e.initData()})):e.$common.errorToShow(i.msg)}))}))},formatOrderStatus:function(t){var e=this;for(var i in t.forEach((function(t){switch(t.status){case 1:1===t.pay_status?e.$set(t,"order_status_name","待付款"):t.pay_status>=2&&1===t.ship_status?e.$set(t,"order_status_name","待发货"):t.pay_status>=2&&2===t.ship_status?e.$set(t,"order_status_name","部分发货"):t.pay_status>=2&&t.ship_status>=3&&1===t.confirm?e.$set(t,"order_status_name","已发货"):t.pay_status>=2&&t.ship_status>=3&&t.confirm>=2&&1===t.is_comment?e.$set(t,"order_status_name","待评价"):t.pay_status>=2&&t.ship_status>=3&&t.confirm>=2&&t.is_comment>=2&&e.$set(t,"order_status_name","已评价");break;case 2:e.$set(t,"order_status_name","完成");break;case 3:e.$set(t,"order_status_name","取消");break}})),t)for(var n in t[i].items)t[i].items[n].promotion_list&&(t[i].items[n].promotion_list=JSON.parse(t[i].items[n].promotion_list));return t}},onReachBottom:function(){"more"==this.loadStatus&&this.orderList()}};e.default=c},bbcb:function(t,e,i){"use strict";i.r(e);var n=i("eb80"),a=i("5fcf");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("d921");var s=i("828b"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"4403899d",null,!1,n["a"],void 0);e["default"]=r.exports},d315:function(t,e,i){"use strict";i.r(e);var n=i("5ba0"),a=i("3996");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("46d9");var s=i("828b"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"4a52c4ac",null,!1,n["a"],void 0);e["default"]=r.exports},d921:function(t,e,i){"use strict";var n=i("91c9"),a=i.n(n);a.a},eb80:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-load-more"},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.status&&t.showIcon,expression:"status === 'loading' && showIcon"}],staticClass:"uni-load-more__img"},[i("v-uni-view",{staticClass:"load1"},[i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}})],1),i("v-uni-view",{staticClass:"load2"},[i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}})],1),i("v-uni-view",{staticClass:"load3"},[i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}})],1)],1),i("v-uni-text",{staticClass:"uni-load-more__text",style:{color:t.color}},[t._v(t._s("more"===t.status?t.contentText.contentdown:"loading"===t.status?t.contentText.contentrefresh:t.contentText.contentnomore))])],1)},a=[]},fb81:function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"uni-load-more",props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},color:{type:String,default:"#999"},contentText:{type:Object,default:function(){return{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"}}}},data:function(){return{}}};e.default=n}}]);