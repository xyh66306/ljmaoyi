(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-member-setting-user_info-resetpassword"],{"13e7":function(t,i,e){"use strict";e.r(i);var s=e("af6ad"),a=e.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return s[t]}))}(n);i["default"]=a.a},"770d":function(t,i,e){var s=e("c86c");i=s(!1),i.push([t.i,".user-head[data-v-a38c139a]{height:%?100?%}.user-head-img[data-v-a38c139a]{height:%?90?%;width:%?90?%;border-radius:50%}.cell-hd-title[data-v-a38c139a]{color:#333}.cell-item-bd[data-v-a38c139a]{color:#666;font-size:%?26?%}.cell-item-hd[data-v-a38c139a]{width:%?160?%}",""]),t.exports=i},a953:function(t,i,e){"use strict";var s=e("b3ae"),a=e.n(s);a.a},af6ad:function(t,i,e){"use strict";e("6a54"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("5c47"),e("0506"),e("e966");var s={data:function(){return{newPwd:"",rePwd:"",sex:0,submitStatus:!1,oldPassword:!0,mobile:"",code:"",verification:!0,timer:60}},computed:{rightMobile:function(){var t={};return this.mobile?/^1[3456789]{1}\d{9}$/gi.test(this.mobile)?t.status=!0:(t.status=!1,t.msg="手机号格式不正确"):(t.status=!1,t.msg="请输入手机号"),t}},methods:{submitHandler:function(){var t=this;if(this.submitStatus)return!1;if(this.submitStatus=!0,""===this.code)this.$common.errorToShow("请输入验证码"),this.submitStatus=!1;else if(""===this.newPwd)this.$common.errorToShow("请输入新密码"),this.submitStatus=!1;else if(""===this.rePwd)this.$common.errorToShow("请输入确认密码"),this.submitStatus=!1;else{var i={mobile:this.mobile,code:this.code,newpwd:this.newPwd,repwd:this.rePwd};this.$api.userForgetpwd(i,(function(i){i.status?(t.submitStatus=!1,t.$common.successToShow(i.msg),setTimeout((function(){uni.navigateBack({delta:1})}),1e3)):(t.$common.errorToShow(i.msg),t.submitStatus=!1)}),(function(i){t.submitStatus=!1}))}},sendCode:function(){var t=this;this.rightMobile.status?(this.$common.loadToShow("发送中..."),setTimeout((function(){t.$common.loadToHide(),t.$api.sms({mobile:t.mobile,code:"veri"},(function(i){i.status?(t.timer=60,t.verification=!1,t.$common.successToShow(i.msg),t.countDown()):t.$common.errorToShow(i.msg)}))}),1e3)):this.$common.errorToShow(this.rightMobile.msg)},countDown:function(){var t=this,i=setInterval((function(){t.timer--,uni.setStorage({key:"timer",data:t.timer,success:function(){}}),t.timer<=0&&(t.verification=!0,clearInterval(i))}),1e3)}},onLoad:function(){var t=this;t.timer=parseInt(t.$db.get("timer")),null!=t.timer&&t.timer>0&&(t.countDown(),t.verification=!1),t.$api.userInfo({},(function(i){if(i.status){var e=i.data.sex-1;null==i.data.birthday&&(i.data.birthday="请选择"),t.nickname=i.data.nickname,t.mobile=i.data.mobile,t.sex=e,t.index=e,t.birthday=i.data.birthday,t.avatar=i.data.avatar,t.oldPassword=i.data.password,"请选择"!=t.birthday&&(t.date=t.birthday)}else t.$common.errorToShow(i.msg)}))}};i.default=s},b3ae:function(t,i,e){var s=e("770d");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=e("967d").default;a("3e8cd10d",s,!0,{sourceMap:!1,shadowMode:!1})},dc96:function(t,i,e){"use strict";e.r(i);var s=e("fd60"),a=e("13e7");for(var n in a)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(n);e("a953");var o=e("828b"),c=Object(o["a"])(a["default"],s["b"],s["c"],!1,null,"a38c139a",null,!1,s["a"],void 0);i["default"]=c.exports},fd60:function(t,i,e){"use strict";e.d(i,"b",(function(){return s})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){}));var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"content"},[e("v-uni-view",{staticClass:"content-top"},[e("v-uni-view",{staticClass:"cell-group"},[t.mobile?e("v-uni-view",{staticClass:"cell-item cell-item-mid"},[e("v-uni-view",{staticClass:"cell-item-hd"},[e("v-uni-view",{staticClass:"cell-hd-title"},[t._v("手机号")])],1),e("v-uni-view",{staticClass:"cell-item-bd"},[t._v(t._s(t.mobile||""))])],1):t._e(),e("v-uni-view",{staticClass:"cell-item cell-item-mid"},[e("v-uni-view",{staticClass:"cell-item-hd"},[e("v-uni-view",{staticClass:"cell-hd-title"},[t._v("验证码")])],1),e("v-uni-view",{staticClass:"cell-item-bd"},[e("v-uni-input",{staticClass:"cell-bd-input",attrs:{type:"text",placeholder:"请输入验证码"},model:{value:t.code,callback:function(i){t.code=i},expression:"code"}}),t.verification?e("v-uni-view",{staticClass:"btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.sendCode.apply(void 0,arguments)}}},[t._v("发送验证码")]):t._e(),t.verification?t._e():e("v-uni-view",{staticClass:"btn"},[t._v(t._s(t.timer)+" 秒后重新获取")])],1)],1),e("v-uni-view",{staticClass:"cell-item cell-item-mid"},[e("v-uni-view",{staticClass:"cell-item-hd"},[e("v-uni-view",{staticClass:"cell-hd-title"},[t._v("新密码")])],1),e("v-uni-view",{staticClass:"cell-item-bd",staticStyle:{width:"75%"}},[e("v-uni-input",{staticClass:"cell-bd-input",staticStyle:{width:"100%"},attrs:{placeholder:"输入6-16位新密码"},model:{value:t.newPwd,callback:function(i){t.newPwd=i},expression:"newPwd"}})],1)],1),e("v-uni-view",{staticClass:"cell-item cell-item-mid"},[e("v-uni-view",{staticClass:"cell-item-hd"},[e("v-uni-view",{staticClass:"cell-hd-title"},[t._v("确认密码")])],1),e("v-uni-view",{staticClass:"cell-item-bd",staticStyle:{width:"75%"}},[e("v-uni-input",{staticClass:"cell-bd-input",staticStyle:{width:"100%"},attrs:{placeholder:"输入6-16位新密码"},model:{value:t.rePwd,callback:function(i){t.rePwd=i},expression:"rePwd"}})],1)],1)],1)],1),e("v-uni-view",{staticClass:"button-bottom"},[e("v-uni-button",{staticClass:"btn btn-square btn-b",attrs:{"hover-class":"btn-hover2",disabled:t.submitStatus,loading:t.submitStatus},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.submitHandler()}}},[t._v("修改")])],1)],1)},a=[]}}]);